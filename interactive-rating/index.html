<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="style.css">

  <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap" rel="stylesheet">

  <title>Interactive rating component</title>

</head>

<body>

  <main>
    <!-- Rating state start -->
    <section id="rating-card" class="card" aria-labelledby="rating-title">
      <div class="star-icon">
        <img src="./images/icon-star.svg" alt="star icon">
      </div>

      <h1>How did we do?</h1>
      <p>Please let us know how we did with your support request.
        All feedback is appreciated
        to help us improve our offering!
      </p>

      <div class="btn-list">
        <button class="rating-btn" aria-label="Rate 1 out of 5">1</button>
        <button class="rating-btn" aria-label="Rate 2 out of 5">2</button>
        <button class="rating-btn" aria-label="Rate 3 out of 5">3</button>
        <button class="rating-btn" aria-label="Rate 4 out of 5">4</button>
        <button class="rating-btn" aria-label="Rate 5 out of 5">5</button>
      </div>

      <button type="submit" class="submit-btn">submit</button>
    </section>
    <!-- Rating state end -->

    <!-- Thank you state start -->
    <section id="thank-card" class="card hidden" aria-labelledby="rating-title">
      <div class="thank-img">
      <img src="./images/illustration-thank-you.svg" alt="thank you illustration">

      </div>

      <div class="show-rate" aria-live="polite">
      </div>

      <h1>Thank you!</h1>
      <p>We appreciate you taking the time to give a rating. If you ever need more support,
        donâ€™t hesitate to get in touch!</p>
    </section>
    <!-- Thank you state end -->

  </main>

  <script>
    let submitBtn = document.querySelector('.submit-btn')
      , rattingCard = document.getElementById('rating-card')
      , thankCard = document.getElementById('thank-card')
      , showRate = document.querySelector('.show-rate')
      , btns = document.querySelectorAll('.rating-btn') // nodlist
      , rate = null;

    btns.forEach(btn => {
      btn.addEventListener('click', () => {
        // clear rest
        btns.forEach(b => b.classList.remove('active'));

        // active
        rate = btn.textContent;

        btn.classList.add('active')
      })
    });
    console.log(rate)

    submitBtn.addEventListener('click', () => {
      if (!rate) {
        alert('Please select a rating first!');
        return;
      }

      rattingCard.classList.add('hidden');
      thankCard.classList.remove('hidden');

      let spanEle = document.createElement('span');
      spanEle.textContent = `You selected ${rate} out of 5`;
      showRate.appendChild(spanEle)

      console.log('Submitted rate:', rate);
    })
  </script>
</body>

</html>